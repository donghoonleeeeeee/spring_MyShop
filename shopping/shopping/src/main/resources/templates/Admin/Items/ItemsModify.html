<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<meta charset="UTF-8">

<th:block th:replace="~{../static/css/home/top.css}"></th:block>
<th:block th:replace="~{../static/css/Items/ItemModify.css}"></th:block>
<th:block th:replace="~{../static/css/home/bottom.css}"></th:block>

<body>
<th:block th:replace="~{../static/inc/top.html}"></th:block>

<section>
    <form action="/admin/ItemsModify_proc" method="post" enctype="multipart/form-data">
        <table>
            <tr>
                <td colspan="10" class="col_td1">
                    <h2>상품 등록</h2>
                </td>
            </tr>

            <tr>
                <td class="td1">분류:
                    <input type="hidden" name="idx" th:value="${item.idx}">
                    <input type="hidden" name="regdate" th:value="${item.regdate}">
                </td>
                <td class="td2">
                    <select name="category1" id="category1" onchange="set_category2(this.value)">
                        <option value="none">선택</option>
                        <th:block th:each="first : ${first}">
                            <option th:text="${first.category_name}"
                                    th:value="${first.code}"
                                    th:selected="${first.code} == ${#strings.substring(code, 0, 2)}">
                            </option>
                        </th:block>
                    </select>

                    <select name="category2" id="category2" onchange="set_category3(this.value)">
                        <option value="none">선택</option>
                        <th:block th:each="category, categoryStat : ${category}">
                            <option th:if="${#strings.length(category.category) == 4}"
                                    th:text="${category.name}"
                                    th:value="${category.category}"
                                    th:selected="${category.category} == ${#strings.substring(code, 0, 4)}">
                            </option>
                        </th:block>
                    </select>

                    <select name="category3" id="category3">
                        <option value="none">선택</option>
                        <th:block th:each="category, categoryStat : ${category}">
                            <option th:if="${#strings.length(category.category) == 6}"
                                    th:text="${category.name}"
                                    th:value="${category.category}"
                                    th:selected="${category.category} == ${code}">
                            </option>
                        </th:block>
                    </select>
                </td>
            </tr>

            <tr>
                <td class="td1"><br>제품명</td>
                <td class="td2"><br>
                    <input type="text" name="item" th:value="${item.item}">
                </td>
            </tr>

            <tr>
                <td class="td1"><br>재고</td>
                <td class="td2"><br>
                    <input type="text" name="inventory" id="inventory" class="item_info" onkeyup="comma1(this.value)" th:value="${item.inventory}">EA
                </td>
            </tr>

            <tr>
                <td class="td1"><br>가격</td>
                <td class="td2"><br>
                    <input type="text" name="price" id="price" class="item_info" onkeyup="comma2(this.value)" th:value="${item.price}">원
                </td>
            </tr>

            <tr>
                <td class="td1"><br>제품설명</td>
                <td class="td2"><br><textarea name="content" class="item_content">[[${item.content}]]</textarea></td>
            </tr>

            <tr>
                <td class="td1"><br>등록된 사진</td>
                <td class="td2"><br>
                    <th:block th:each="list, listStat : ${item.itemsFileEntities}">
                        <input type="checkbox" name="image_check1" th:id="${listStat.count}" th:value="${list.path}" onchange="change_value(this.id, this.value)">
                        <input type="checkbox" name="check" th:id="'image_checked'+${listStat.count}" value="unchecked" checked style="display:none;">
                        <span th:text="${list.origin}" th:filename="${list.path}" onclick="image_view(this.getAttribute('filename'))"></span>
                        <input type="file" name="files"><br>
                    </th:block>
                </td>
            </tr>

            <tr>
                <td colspan="10" class="col_td2"><br>
                    <a th:href="@{/admin/ItemList}">
                        <input type="button" value="뒤로가기" class="back_btn">
                    </a>&emsp;
                    <input type="submit" value="수정" class="item_btn">
                </td>
            </tr>
        </table>
    </form>
    <br><br>
</section>
<th:block th:replace="~{../static/inc/bottom.html}"></th:block>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script th:inline="javascript" src="/js/Items/ItemModify.js"></script>
</html>

