<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<meta charset="UTF-8">

<th:block th:replace="~{../static/css/home/top.css}"></th:block>
<th:block th:replace="~{../static/css/Community/Community.css}"></th:block>
<th:block th:replace="~{../static/css/Community/Comment.css}"></th:block>
<th:block th:replace="~{../static/css/home/bottom.css}"></th:block>

<body>
<th:block th:replace="~{../static/inc/top.html}"></th:block>

<section>
    <form>
    <table>
        <tr>
            <td colspan="5" class="Community_title">
                <h2>Community & Reviews</h2>
                <br>
            </td>
        </tr>

        <tr>
            <td colspan="5">
                &emsp;<input type="button" class="type1" id="type1" onclick="select_type(this.value)" value="전체">&emsp;
                <input type="button" class="type2" id="type2" onclick="select_type(this.value)" value="공지">&emsp;
                <input type="button" class="type3" id="type3" onclick="select_type(this.value)" value="리뷰"><br><br>
            </td>
        </tr>

        <tr>
            <td class="border_post">구분</td>
            <td class="border_index">번호</td>
            <td class="border_title">제목</td>
            <td class="border_writer">작성자</td>
            <td class="border_views">조회수</td>
        </tr>

        <tr th:each="list, listStat : ${list}">
            <td class="border_post_"><input type="checkbox" name="check" class="check" th:value="${list.idx}"></td>
            <td class="border_index_"><span th:text="${list.idx}"></span></td>
            <td class="">
                <a th:href="@{/admin/CommunityView(idx=${list.idx})}">
                    <span th:if="${list.userid == 'admin'}" th:text="|${list.title}(${list.size})|" class="admin_post"></span>
                    <span th:if="${list.userid != 'admin'}" th:text="|${list.title}(${list.size})|"></span>
                </a>
            </td>
            <td class="border_writer_"><span th:text="${list.name}"></span></td>
            <td class="border_views_"><span th:text="${list.hit}"></span></td>
        </tr>

        <tr>
            <td colspan="5" style="text-align:center;">
                <a th:if="${nowPage != startPage} and ${endPage != 0}" th:href="@{/admin/Community(page = 0, type = ${type})}">⏪</a>
                <a th:if="${nowPage != startPage} and ${endPage != 0}" th:href="@{/admin/Community(page = ${nowPage - 2}, type = ${type})}">◀</a>
                <th:block th:each="page : ${#numbers.sequence(startPage, endPage)}" style="margin:0 auto;">
                    <a th:if="${page != nowPage} and ${page !=  0}" th:href="@{/admin/Community(page = ${page - 1}, type = ${type})}" th:text="${page}"></a>
                    <strong th:if="${page == nowPage}" th:text="${page}" style="color : red"></strong>
                </th:block>
                <a th:if="${nowPage != endPage} and ${endPage != 0}" th:href="@{/admin/Community(page = ${nowPage}, type = ${type})}">▶</a>
                <a th:if="${nowPage != endPage} and ${endPage != 0}" th:href="@{/admin/Community(page = ${maxPage-1}, type = ${type})}">⏩</a>
            </td>
        </tr>

        <tr>
            <td colspan="5" class="Community_btn">
                <br><br>
                <button type="submit" class="write_btn" formmethod="get" th:formaction="@{/admin/CommunityDelete}" onclick="return delete_checked()">삭제</button>&emsp;
                <a th:href="@{/admin/CommunityRegister}"><input type="button" class="write_btn" value="작성"></a>&emsp;
                <br><br>
            </td>
        </tr>
    </table>
    </form>
</section>
<th:block th:replace="~{../static/inc/bottom.html}"></th:block>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script th:inline="javascript" src="/js/Community/Community.js"></script>
</html>

